"use strict";(self.webpackChunkbeligh_hamdi=self.webpackChunkbeligh_hamdi||[]).push([[503],{1503:(me,C,s)=>{s.r(C),s.d(C,{AdminModule:()=>pe});var h=s(4755),m=s(9812),y=s(430),p=s(1330),u=s(6012),L=s(2051),B=s(8238),e=s(2223),b=s(7585),_=s(3144);let k=(()=>{class t{constructor(n,i){this.httpClient=n,this.authService=i,this.spreadsheetId="10GCH2DKZbK_vG3-Lozava3Kmg8_wYqgjfY2JeiVFOVM",this.sheetId="Expenses Canada"}getAccessToken(){return this.authService.getAccessToken(b.tV.PROVIDER_ID)}getGoogleSpreadSheetsData(n){return this.httpClient.get(`https://sheets.googleapis.com/v4/spreadsheets/${this.spreadsheetId}/values/${this.sheetId}!A1:F`,{headers:{Authorization:`Bearer ${n}`}})}convertToArrayOfObjects(n){let i=n.shift(),r=[];for(let a=0;a<n.length;a++){let l={};for(let d=0;d<i.length;d++)l[i[d].toLowerCase()]=n[a][d];r.push(l)}return r}}return t.\u0275fac=function(n){return new(n||t)(e.LFG(_.eN),e.LFG(b.xE))},t.\u0275prov=e.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var f=s(1728),c=s(3627);function G(t,o){1&t&&(e.TgZ(0,"th",10),e._uU(1," Name "),e.qZA())}function j(t,o){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",n.name," ")}}function N(t,o){1&t&&(e.TgZ(0,"th",10),e._uU(1," Cost "),e.qZA())}function z(t,o){if(1&t&&(e.TgZ(0,"td",11),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&t){const n=o.$implicit;e.xp6(1),e.hij(" ",e.lcZ(2,1,n.cost)," ")}}function F(t,o){1&t&&e._UZ(0,"tr",12)}function V(t,o){1&t&&e._UZ(0,"tr",13)}function Y(t,o){if(1&t&&(e.TgZ(0,"div")(1,"table",3),e.ynx(2,4),e.YNc(3,G,2,0,"th",5),e.YNc(4,j,2,1,"td",6),e.BQk(),e.ynx(5,7),e.YNc(6,N,2,0,"th",5),e.YNc(7,z,3,3,"td",6),e.BQk(),e.YNc(8,F,1,0,"tr",8),e.YNc(9,V,1,0,"tr",9),e.qZA()()),2&t){const n=e.oxw();e.xp6(1),e.Q6J("dataSource",n.dataSource),e.xp6(7),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}}let K=(()=>{class t{constructor(n){this.service=n,this.dataSheet=[],this.total=0,this.displayedColumns=["name","cost"]}getAccessToken(){this.service.getAccessToken().then(n=>this.accessToken=n)}getGoogleSpreadSheetsData(){this.accessToken&&this.service.getGoogleSpreadSheetsData(this.accessToken).subscribe(n=>{console.log("events",n),this.dataSheet=this.service.convertToArrayOfObjects(n.values),this.dataSheet.map(l=>{l.cost=parseInt(l.cost)}),this.dataSource=this.dataSheet;let i=[],r=[];this.dataSource.forEach(l=>{i.push(l.name),r.push(l.cost)}),this.total=this.dataSheet.reduce((l,d)=>l+parseInt(d.cost),0),console.log("total",this.total)})}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(k))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-google-spreadsheets-lib"]],decls:7,vars:2,consts:[["mat-button","",3,"click"],["mat-button","",3,"disabled","click"],[4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","cost"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(n,i){1&n&&(e.TgZ(0,"section")(1,"article")(2,"button",0),e.NdJ("click",function(){return i.getAccessToken()}),e._uU(3,"Token"),e.qZA(),e.TgZ(4,"button",1),e.NdJ("click",function(){return i.getGoogleSpreadSheetsData()}),e._uU(5,"Load"),e.qZA()(),e.YNc(6,Y,10,3,"div",2),e.qZA()),2&n&&(e.xp6(4),e.Q6J("disabled",!i.accessToken),e.xp6(2),e.Q6J("ngIf",i.dataSource))},dependencies:[h.O5,f.lW,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,h.H9],styles:["table[_ngcontent-%COMP%]{width:100%}"]}),t})();const $=function(){return["/admin/editor"]};let S=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-admin-page"]],standalone:!0,features:[e.jDz],decls:16,vars:2,consts:[["icon","shield_person","title","Admin Dashboard"],[1,"container"],[1,"row"],[1,"col-12","col-xs-12","col-sm-12","col-md-10","col-lg-10","col-xl-8","col-xxl-8"],["mat-list-item","","routerLinkActive","active",3,"routerLink"],["matListItemIcon","",1,"app-list-item-icon"],["matListItemTitle",""]],template:function(n,i){1&n&&(e._UZ(0,"app-header-view",0),e.TgZ(1,"div",1)(2,"section",2)(3,"article",3),e._UZ(4,"app-google-spreadsheets-lib")(5,"br")(6,"br"),e.qZA(),e.TgZ(7,"article",3)(8,"mat-card")(9,"mat-card-content")(10,"mat-nav-list")(11,"a",4)(12,"mat-icon",5),e._uU(13,"edit"),e.qZA(),e.TgZ(14,"div",6),e._uU(15,"Editor"),e.qZA()()()()()()()()),2&n&&(e.xp6(11),e.Q6J("routerLink",e.DdM(1,$)))},dependencies:[L.S,u.QW,u.a8,u.dn,p.ie,p.Hk,p.Tg,p.Yt,p.sL,m.Od,m.rH,y.Ps,y.Hw,B.LU,K]}),t})();var J=s(8893),w=s(9401),E=s(4968),H=s(9770),Q=s(7579),D=s(2722),X=s(5698),W=s(9718),q=s(4782);function ee(t,o){}const g=()=>{const t=typeof window<"u"?window:void 0;return t&&t.tinymce?t.tinymce:null};let te=(()=>{class t{constructor(){this.onBeforePaste=new e.vpe,this.onBlur=new e.vpe,this.onClick=new e.vpe,this.onContextMenu=new e.vpe,this.onCopy=new e.vpe,this.onCut=new e.vpe,this.onDblclick=new e.vpe,this.onDrag=new e.vpe,this.onDragDrop=new e.vpe,this.onDragEnd=new e.vpe,this.onDragGesture=new e.vpe,this.onDragOver=new e.vpe,this.onDrop=new e.vpe,this.onFocus=new e.vpe,this.onFocusIn=new e.vpe,this.onFocusOut=new e.vpe,this.onKeyDown=new e.vpe,this.onKeyPress=new e.vpe,this.onKeyUp=new e.vpe,this.onMouseDown=new e.vpe,this.onMouseEnter=new e.vpe,this.onMouseLeave=new e.vpe,this.onMouseMove=new e.vpe,this.onMouseOut=new e.vpe,this.onMouseOver=new e.vpe,this.onMouseUp=new e.vpe,this.onPaste=new e.vpe,this.onSelectionChange=new e.vpe,this.onActivate=new e.vpe,this.onAddUndo=new e.vpe,this.onBeforeAddUndo=new e.vpe,this.onBeforeExecCommand=new e.vpe,this.onBeforeGetContent=new e.vpe,this.onBeforeRenderUI=new e.vpe,this.onBeforeSetContent=new e.vpe,this.onChange=new e.vpe,this.onClearUndos=new e.vpe,this.onDeactivate=new e.vpe,this.onDirty=new e.vpe,this.onExecCommand=new e.vpe,this.onGetContent=new e.vpe,this.onHide=new e.vpe,this.onInit=new e.vpe,this.onInitNgModel=new e.vpe,this.onLoadContent=new e.vpe,this.onNodeChange=new e.vpe,this.onPostProcess=new e.vpe,this.onPostRender=new e.vpe,this.onPreInit=new e.vpe,this.onPreProcess=new e.vpe,this.onProgressState=new e.vpe,this.onRedo=new e.vpe,this.onRemove=new e.vpe,this.onReset=new e.vpe,this.onResizeEditor=new e.vpe,this.onSaveContent=new e.vpe,this.onSetAttrib=new e.vpe,this.onObjectResizeStart=new e.vpe,this.onObjectResized=new e.vpe,this.onObjectSelected=new e.vpe,this.onSetContent=new e.vpe,this.onShow=new e.vpe,this.onSubmit=new e.vpe,this.onUndo=new e.vpe,this.onVisualAid=new e.vpe}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=e.lG2({type:t,outputs:{onBeforePaste:"onBeforePaste",onBlur:"onBlur",onClick:"onClick",onContextMenu:"onContextMenu",onCopy:"onCopy",onCut:"onCut",onDblclick:"onDblclick",onDrag:"onDrag",onDragDrop:"onDragDrop",onDragEnd:"onDragEnd",onDragGesture:"onDragGesture",onDragOver:"onDragOver",onDrop:"onDrop",onFocus:"onFocus",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onKeyDown:"onKeyDown",onKeyPress:"onKeyPress",onKeyUp:"onKeyUp",onMouseDown:"onMouseDown",onMouseEnter:"onMouseEnter",onMouseLeave:"onMouseLeave",onMouseMove:"onMouseMove",onMouseOut:"onMouseOut",onMouseOver:"onMouseOver",onMouseUp:"onMouseUp",onPaste:"onPaste",onSelectionChange:"onSelectionChange",onActivate:"onActivate",onAddUndo:"onAddUndo",onBeforeAddUndo:"onBeforeAddUndo",onBeforeExecCommand:"onBeforeExecCommand",onBeforeGetContent:"onBeforeGetContent",onBeforeRenderUI:"onBeforeRenderUI",onBeforeSetContent:"onBeforeSetContent",onChange:"onChange",onClearUndos:"onClearUndos",onDeactivate:"onDeactivate",onDirty:"onDirty",onExecCommand:"onExecCommand",onGetContent:"onGetContent",onHide:"onHide",onInit:"onInit",onInitNgModel:"onInitNgModel",onLoadContent:"onLoadContent",onNodeChange:"onNodeChange",onPostProcess:"onPostProcess",onPostRender:"onPostRender",onPreInit:"onPreInit",onPreProcess:"onPreProcess",onProgressState:"onProgressState",onRedo:"onRedo",onRemove:"onRemove",onReset:"onReset",onResizeEditor:"onResizeEditor",onSaveContent:"onSaveContent",onSetAttrib:"onSetAttrib",onObjectResizeStart:"onObjectResizeStart",onObjectResized:"onObjectResized",onObjectSelected:"onObjectSelected",onSetContent:"onSetContent",onShow:"onShow",onSubmit:"onSubmit",onUndo:"onUndo",onVisualAid:"onVisualAid"}}),t})();const M=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onResizeEditor","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],v=(t,o,n)=>(0,E.R)(t,o).pipe((0,D.R)(n)),T=(t,o)=>"string"==typeof t?t.split(",").map(n=>n.trim()):Array.isArray(t)?t:o;let A=0;const O=t=>typeof t<"u"&&"textarea"===t.tagName.toLowerCase(),I=t=>typeof t>"u"||""===t?[]:Array.isArray(t)?t:t.split(" "),se=(t,o)=>I(t).concat(I(o)),ae=()=>{},P=t=>null==t,re=(()=>{let t={script$:null};return{load:(i,r)=>t.script$||(t.script$=(0,H.P)(()=>{const a=i.createElement("script");return a.referrerPolicy="origin",a.type="application/javascript",a.src=r,i.head.appendChild(a),(0,E.R)(a,"load").pipe((0,X.q)(1),(0,W.h)(void 0))}).pipe((0,q.d)({bufferSize:1,refCount:!0}))),reinitialize:()=>{t={script$:null}}}})(),x=new e.OlP("TINYMCE_SCRIPT_SRC"),le={provide:w.JU,useExisting:(0,e.Gpc)(()=>U),multi:!0};let U=(()=>{class t extends te{constructor(n,i,r,a){super(),this.platformId=r,this.tinymceScriptSrc=a,this.cloudChannel="6",this.apiKey="no-api-key",this.id="",this.modelEvents="change input undo redo",this.onTouchedCallback=ae,this.destroy$=new Q.x,this.initialise=()=>{const l={...this.init,selector:void 0,target:this._element,inline:this.inline,readonly:this.disabled,plugins:se(this.init&&this.init.plugins,this.plugins),toolbar:this.toolbar||this.init&&this.init.toolbar,setup:d=>{this._editor=d,v(d,"init",this.destroy$).subscribe(()=>{this.initEditor(d)}),((t,o,n)=>{(t=>{const o=T(t.ignoreEvents,[]);return T(t.allowedEvents,M).filter(i=>M.includes(i)&&!o.includes(i))})(t).forEach(r=>{const a=t[r];v(o,r.substring(2),n).subscribe(l=>{a.observers.length>0&&t.ngZone.run(()=>a.emit({event:l,editor:o}))})})})(this,d,this.destroy$),this.init&&"function"==typeof this.init.setup&&this.init.setup(d)}};O(this._element)&&(this._element.style.visibility=""),this.ngZone.runOutsideAngular(()=>{g().init(l)})},this._elementRef=n,this.ngZone=i}set disabled(n){this._disabled=n,this._editor&&this._editor.initialized&&("function"==typeof this._editor.mode?.set?this._editor.mode.set(n?"readonly":"design"):this._editor.setMode(n?"readonly":"design"))}get disabled(){return this._disabled}get editor(){return this._editor}writeValue(n){this._editor&&this._editor.initialized?this._editor.setContent(P(n)?"":n):this.initialValue=null===n?void 0:n}registerOnChange(n){this.onChangeCallback=n}registerOnTouched(n){this.onTouchedCallback=n}setDisabledState(n){this.disabled=n}ngAfterViewInit(){(0,h.NF)(this.platformId)&&(this.id=this.id||(t=>{const n=(new Date).getTime(),i=Math.floor(1e9*Math.random());return A++,"tiny-angular_"+i+A+String(n)})(),this.inline=void 0!==this.inline?!1!==this.inline:!!this.init?.inline,this.createElement(),null!==g()?this.initialise():this._element&&this._element.ownerDocument&&re.load(this._element.ownerDocument,this.getScriptSrc()).pipe((0,D.R)(this.destroy$)).subscribe(this.initialise))}ngOnDestroy(){this.destroy$.next(),null!==g()&&g().remove(this._editor)}createElement(){this._element=document.createElement(this.inline?"string"==typeof this.tagName?this.tagName:"div":"textarea"),this._element&&(document.getElementById(this.id)&&console.warn(`TinyMCE-Angular: an element with id [${this.id}] already exists. Editors with duplicate Id will not be able to mount`),this._element.id=this.id,O(this._element)&&(this._element.style.visibility="hidden"),this._elementRef.nativeElement.appendChild(this._element))}getScriptSrc(){return P(this.tinymceScriptSrc)?`https://cdn.tiny.cloud/1/${this.apiKey}/tinymce/${this.cloudChannel}/tinymce.min.js`:this.tinymceScriptSrc}initEditor(n){v(n,"blur",this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.onTouchedCallback())}),v(n,this.modelEvents,this.destroy$).subscribe(()=>{this.ngZone.run(()=>this.emitOnChange(n))}),"string"==typeof this.initialValue&&this.ngZone.run(()=>{n.setContent(this.initialValue),n.getContent()!==this.initialValue&&this.emitOnChange(n),void 0!==this.onInitNgModel&&this.onInitNgModel.emit(n)})}emitOnChange(n){this.onChangeCallback&&this.onChangeCallback(n.getContent({format:this.outputFormat}))}}return t.\u0275fac=function(n){return new(n||t)(e.Y36(e.SBq),e.Y36(e.R0b),e.Y36(e.Lbi),e.Y36(x,8))},t.\u0275cmp=e.Xpm({type:t,selectors:[["editor"]],inputs:{cloudChannel:"cloudChannel",apiKey:"apiKey",init:"init",id:"id",initialValue:"initialValue",outputFormat:"outputFormat",inline:"inline",tagName:"tagName",plugins:"plugins",toolbar:"toolbar",modelEvents:"modelEvents",allowedEvents:"allowedEvents",ignoreEvents:"ignoreEvents",disabled:"disabled"},standalone:!0,features:[e._Bn([le]),e.qOj,e.jDz],decls:1,vars:0,template:function(n,i){1&n&&e.YNc(0,ee,0,0,"ng-template")},dependencies:[h.ez,w.u5],styles:["[_nghost-%COMP%]{display:block}"]}),t})();function de(t,o){1&t&&(e.TgZ(0,"p"),e._uU(1,"Loading the editor..."),e.qZA())}let ce=(()=>{class t{constructor(){this.editorSubject=new J.c}ngOnInit(){this.setupEditor()}setupEditor(){this.options={base_url:"/tinymce",suffix:".min",height:600,min_height:600,resize:"both",menubar:!0,mobile:{menubar:!0,plugins:"autosave lists autolink code",toolbar:"undo bold italic styles code"},toolbar_mode:"floating",toolbar:[{name:"history",items:["undo","redo"]},{name:"styles",items:["styles","formatselect"]},{name:"formatting",items:["bold","italic","backcolor","removeformat"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"quicktable",items:["quicktable","fullscreen"]},{name:"code",items:["code"]}],plugins:["advlist","anchor","autolink","autoresize","autosave","charmap","code","codesample","directionality","emoticons","fullscreen","help","image","importcss","insertdatetime","link","lists","media","nonbreaking","pagebreak","preview","quickbars","save","searchreplace","table","visualblocks","visualchars","wordcount"],external_plugins:{},setup:n=>{this.editor=n}}}onEditorInit(n){this.editorSubject.next(n.editor),this.editorSubject.complete()}getText(){const n=this.editor.getContent({format:"text"});console.log(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-tinymce-editor"]],standalone:!0,features:[e._Bn([{provide:x,useValue:"tinymce/tinymce.min.js"}]),e.jDz],decls:6,vars:4,consts:[[1,"app-scroll"],[4,"ngIf"],["name","summary",3,"init","onInit"],["mat-button","",3,"click"]],template:function(n,i){1&n&&(e.TgZ(0,"section",0),e.YNc(1,de,2,0,"p",1),e.ALo(2,"async"),e.TgZ(3,"editor",2),e.NdJ("onInit",function(a){return i.onEditorInit(a)}),e.qZA(),e.TgZ(4,"button",3),e.NdJ("click",function(){return i.getText()}),e._uU(5,"Get Text"),e.qZA()()),2&n&&(e.xp6(1),e.Q6J("ngIf",null===e.lcZ(2,2,i.editorSubject)),e.xp6(2),e.Q6J("init",i.options))},dependencies:[h.O5,U,f.ot,f.lW,h.Ov],styles:[".app-scroll{overflow-y:scroll;max-height:600px;margin-top:10px}\n"],encapsulation:2}),t})(),Z=(()=>{class t{ngOnInit(){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-blog-editor"]],standalone:!0,features:[e.jDz],decls:6,vars:0,template:function(n,i){1&n&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"TinyMCE"),e.qZA()(),e.TgZ(4,"mat-card-content"),e._UZ(5,"app-tinymce-editor"),e.qZA()())},dependencies:[u.QW,u.a8,u.dn,u.dk,u.n5,ce]}),t})();const ue=[{path:"",component:S},{path:"editor",component:Z}];let he=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[m.Bz.forChild(ue),m.Bz]}),t})(),pe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[h.ez,he,S,Z]}),t})()}}]);