import"./chunk-EGGEO6M5.js";import{a as ft}from"./chunk-V4Q5MAXW.js";import"./chunk-UYZ3ES5K.js";import{a as dt,b as pt,c as ut,d as mt,f as ht,g as gt,h as St,i as wt}from"./chunk-TP6OVNQ2.js";import{$ as L,Ea as v,Fa as N,Ga as tt,Ha as et,J as E,K as A,Ka as M,N as u,Na as I,Oa as it,Pa as O,Q as T,Qa as P,R as m,Rb as W,S as J,U as X,V as $,W as G,Za as ot,ga as q,ha as a,j,ja as w,kb as nt,lb as rt,m as S,n as V,na as b,nb as lt,o as B,pa as h,pb as st,qa as f,qb as ct,r as Y,ra as d,sa as C,sb as at,u as y,wa as Z,xa as Q,za as D}from"./chunk-2ROWOWRO.js";import{a as U,b as z}from"./chunk-5K6JWRWX.js";function Et(t,e,i,o){let n=window&&!!window.document&&window.document.documentElement,r=n&&e?window:i;if(t&&(r=t&&n&&typeof t=="string"?bt(t,i.nativeElement,o):t,!r))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return r}function bt(t,e,i){return(i?window.document:e).querySelector(t)}function F(t){return t&&!t.firstChange}function Nt(){return typeof window<"u"}var Ot={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},Pt={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},K=class{constructor(e=!0){this.vertical=e,this.propsMap=e?Ot:Pt}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function Wt(t,e,i){return!!(t&&e||!i&&e)}function Ft({windowElement:t,axis:e}){return Kt({axis:e,isWindow:Rt(t)},t)}function Kt(t,e){let i=t.isWindow||e&&!e.nativeElement?e:e.nativeElement;return z(U({},t),{container:i})}function Rt(t){return["Window","global"].some(i=>Object.prototype.toString.call(t).includes(i))}function k(t,e){return t?e.document.documentElement:null}function vt(t,e){let i=Ut(e);return e.isWindow?_t(i,t,e):kt(i,t,e)}function _t(t,e,i){let{axis:o,container:n,isWindow:r}=i,{offsetHeightKey:l,clientHeightKey:c}=yt(o),p=t+Ct(k(r,n),o,r),s=Tt(e.nativeElement,r,l,c),g=zt(e.nativeElement,o,r)+s;return{height:t,scrolled:p,totalToScroll:g,isWindow:r}}function kt(t,e,i){let{axis:o,container:n}=i,r=n[o.scrollTopKey()],l=n[o.scrollHeightKey()];return{height:t,scrolled:r,totalToScroll:l,isWindow:!1}}function yt(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function Ut({container:t,isWindow:e,axis:i}){let{offsetHeightKey:o,clientHeightKey:n}=yt(i);return Tt(t,e,o,n)}function Tt(t,e,i,o){if(isNaN(t[i])){let n=k(e,t);return n?n[o]:0}else return t[i]}function zt(t,e,i){let o=e.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[o]+Ct(t,e,i)}function Ct(t,e,i){let o=e.pageYOffsetKey(),n=e.scrollTopKey(),r=e.offsetTopKey();return isNaN(window.pageYOffset)?k(i,t)[n]:t.ownerDocument?t.ownerDocument.defaultView[o]:t[r]}function jt(t,e={down:0,up:0},i){let o,n;if(t.totalToScroll<=0)return!1;let r=t.isWindow?t.scrolled:t.height+t.scrolled;if(i)o=(t.totalToScroll-r)/t.totalToScroll,n=(e?.down?e.down:0)/10;else{let c=t.scrolled+(t.totalToScroll-r);o=t.scrolled/c,n=(e?.up?e.up:0)/10}return o<=n}function Vt(t,e){return t<e.scrolled}function Bt(t,e,i){let o=Vt(t,e);return{fire:jt(e,i,o),scrollDown:o}}var R=class{constructor({totalToScroll:e}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=e}updateScrollPosition(e){return this.lastScrollPosition=e}updateTotalToScroll(e){this.lastTotalToScroll!==e&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=e)}updateScroll(e,i){this.updateScrollPosition(e),this.updateTotalToScroll(i)}updateTriggeredFlag(e,i){i?this.triggered.down=e:this.triggered.up=e}isTriggeredScroll(e,i){return i?this.triggered.down===e:this.triggered.up===e}};function Yt(t){let{scrollContainer:e,scrollWindow:i,element:o,fromRoot:n}=t,r=Ft({axis:new K(!t.horizontal),windowElement:Et(e,i,o,n)}),l=new R({totalToScroll:vt(o,r)}),c={container:r.container,throttle:t.throttle},p={up:t.upDistance,down:t.downDistance};return At(c).pipe(V(()=>j(vt(o,r))),S(s=>Jt(l.lastScrollPosition,s,p)),E(({stats:s})=>l.updateScroll(s.scrolled,s.totalToScroll)),y(({fire:s,scrollDown:g,stats:{totalToScroll:Ht}})=>Wt(t.alwaysCallback,s,l.isTriggeredScroll(Ht,g))),E(({scrollDown:s,stats:{totalToScroll:g}})=>{l.updateTriggeredFlag(g,s)}),S(Xt))}function At(t){let e=Y(t.container,"scroll");return t.throttle&&(e=e.pipe(A(t.throttle,void 0,{leading:!0,trailing:!0}))),e}function Jt(t,e,i){let{scrollDown:o,fire:n}=Bt(t,e,i);return{scrollDown:o,fire:n,stats:e}}var _={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Xt(t){let{scrollDown:e,stats:{scrolled:i}}=t;return{type:e?_.DOWN:_.UP,payload:{currentScrollPosition:i}}}var Dt=(()=>{class t{constructor(i,o){this.element=i,this.zone=o,this.scrolled=new P,this.scrolledUp=new P,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:i,infiniteScrollDisabled:o,infiniteScrollDistance:n}){let r=F(i),l=F(o),c=F(n),p=!l&&!this.infiniteScrollDisabled||l&&!o.currentValue||c;(r||l||c)&&(this.destroyScroller(),p&&this.setup())}setup(){Nt()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=Yt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(i=>this.handleOnScroll(i))})}handleOnScroll({type:i,payload:o}){let n=i===_.DOWN?this.scrolled:this.scrolledUp;$t(n)&&this.zone.run(()=>n.emit(o))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}}return t.\u0275fac=function(i){return new(i||t)(w(q),w(ot))},t.\u0275dir=J({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[X]}),t})();function $t(t){return t.observed??t.observers.length>0}var Mt=(()=>{class t{}return t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=m({type:t}),t.\u0275inj=u({}),t})();function Lt(t,e){if(t&1&&(f(0,"article",4)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),v(4),I(5,"slice"),d(),f(6,"mat-card-subtitle"),v(7),I(8,"date"),d()(),C(9,"img",5),f(10,"mat-card-content")(11,"div",6)(12,"div",7)(13,"div",8)(14,"a",9),v(15),I(16,"slice"),d()()(),f(17,"div",7)(18,"article"),v(19),d()()()()()()),t&2){let i=e.$implicit,o=D(2);a(4),N(O(5,7,i.title,0,100)),a(3),et("",i.author,", ",it(8,11,i.publishedAt),""),a(2),h("ngSrc",i.urlToImage||o.defaultImage),a(5),h("href",i.url,L),a(1),tt("",O(16,13,i.url,0,24),"..."),a(4),N(i.content)}}function qt(t,e){if(t&1){let i=Z();f(0,"section",2),Q("scrolled",function(){$(i);let n=D();return G(n.onScroll())}),b(1,Lt,20,17,"article",3),d()}if(t&2){let i=D();h("infiniteScrollDistance",i.distance)("infiniteScrollThrottle",i.throttle)("infiniteScrollContainer",i.selector)("fromRoot",!0),a(1),h("ngForOf",i.items)("ngForTrackBy",i.trackByFn)}}var It=(()=>{let e=class{constructor(o){this.appService=o,this.allItems=[],this.items=[],this.selector=".main-panel",this.throttle=0,this.distance=2,this.page=1,this.perPage=100,this.ngSrcset="640w, 750w, 828w, 1080w, 1200w, 1920w, 2048w, 3840w",this.defaultImage="assets/img/no-image-icon.png"}ngOnInit(){this.items$=this.appService.getNews().pipe(S(o=>o.articles),B(),y(o=>o.urlToImage!==null)),this.items$.subscribe({next:o=>{o&&(this.allItems=o,this.items.push(o))}})}onScroll(){this.page<this.items.total_pages&&(this.items=this.appService.paginator(this.allItems,++this.page,this.perPage))}trackByFn(o,n){return n.title}},t=e;return(()=>{e.\u0275fac=function(n){return new(n||e)(w(ft))}})(),(()=>{e.\u0275cmp=T({type:e,selectors:[["app-news"]],standalone:!0,features:[M],decls:2,vars:1,consts:[[1,"container"],["class","row main-panel","infinite-scroll","",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled",4,"ngIf"],["infinite-scroll","",1,"row","main-panel",3,"infiniteScrollDistance","infiniteScrollThrottle","infiniteScrollContainer","fromRoot","scrolled"],["class","col-12 col-xs-12 col-sm-12 col-md-6 col-lg-4 col-xl-3 col-xxl-3",4,"ngFor","ngForOf","ngForTrackBy"],[1,"col-12","col-xs-12","col-sm-12","col-md-6","col-lg-4","col-xl-3","col-xxl-3"],["mat-card-image","","alt","Photo","lazy","","fill","","sizes","100vw",1,"app-card-image",3,"ngSrc"],[1,"row"],[1,"col-12"],[1,"app-card-url"],["target","_blank","rel","noopener noreferrer",3,"href"]],template:function(n,r){n&1&&(f(0,"div",0),b(1,qt,2,6,"section",1),d()),n&2&&(a(1),h("ngIf",r.items))},dependencies:[rt,Mt,Dt,nt,St,dt,ut,ht,gt,mt,pt,st,lt,at],styles:[".app-card-image[_ngcontent-%COMP%]{max-height:300px;position:relative!important}.app-card-url[_ngcontent-%COMP%]{margin-top:10px;margin-bottom:10px}"]})})(),t})();var H=(()=>{let e=class{constructor(){}ngOnInit(){}},t=e;return(()=>{e.\u0275fac=function(n){return new(n||e)}})(),(()=>{e.\u0275cmp=T({type:e,selectors:[["app-home-view"]],standalone:!0,features:[M],decls:2,vars:0,consts:[["icon","home","title","Home"]],template:function(n,r){n&1&&C(0,"app-header-view",0)(1,"app-news")},dependencies:[wt,It]})})(),t})();var Qt=[{path:"",component:H}],xt=(()=>{let e=class{},t=e;return(()=>{e.\u0275fac=function(n){return new(n||e)}})(),(()=>{e.\u0275mod=m({type:e})})(),(()=>{e.\u0275inj=u({imports:[W.forChild(Qt),W]})})(),t})();var be=(()=>{let e=class{},t=e;return(()=>{e.\u0275fac=function(n){return new(n||e)}})(),(()=>{e.\u0275mod=m({type:e})})(),(()=>{e.\u0275inj=u({imports:[ct,xt,H]})})(),t})();export{be as HomeModule};
